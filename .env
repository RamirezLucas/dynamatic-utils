#!/bin/bash

# ===----------------------------------------------------------------------=== #
# Source this file before doing anything 
# ===----------------------------------------------------------------------=== #

#### Set these paths depending on local install (paths must be absolute!) ####
export LEGACY_DYNAMATIC_PATH=`realpath "dynamatic"`
export LEGACY_DYNAMATIC_LLVM_PATH=`realpath "${LEGACY_DYNAMATIC_PATH}/dhls/etc/dynamatic/elastic-circuits/llvm-6.0"`
export DYNAMATIC_PATH=`realpath "../dynamatic"`

#### Leave the environment variables below as is ####

# Shortcuts to CIRCT and Polygeist (within new Dynamatic)  
export CIRCT_PATH="${DYNAMATIC_PATH}/circt"
export POLYGEIST_PATH="${DYNAMATIC_PATH}/polygeist"

# Needed by old Dynamatic internally
export DHLS_INSTALL_DIR="${LEGACY_DYNAMATIC_PATH}/dhls"

# Legacy Dynamatic
export LLVM_CLANG_BIN="${LEGACY_DYNAMATIC_LLVM_PATH}/bin/clang"
export LLVM_OPT_BIN="${LEGACY_DYNAMATIC_LLVM_PATH}/bin/opt"
export LLVM_ANALYZE_BIN="${LEGACY_DYNAMATIC_LLVM_PATH}/bin/opt"

# Dynamatic
export POLYGEIST_CLANG_BIN="${POLYGEIST_PATH}/build/bin/cgeist"
export POLYGEIST_OPT_BIN="${POLYGEIST_PATH}/build/bin/polygeist-opt"
export MLIR_OPT_BIN="${POLYGEIST_PATH}/llvm-project/build/bin/mlir-opt"
export CIRCT_OPT_BIN="${CIRCT_PATH}/build/bin/circt-opt"
export DYNAMATIC_OPT_BIN="${DYNAMATIC_PATH}/build/bin/dynamatic-opt"

# File locations
export OUT_PATH="out"
export BENCHMARKS_PATH="${LEGACY_DYNAMATIC_PATH}/dhls/etc/dynamatic/Regression_test/examples"
